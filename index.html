<!DOCTYPE html>
<html lang="ja" data-redeviation-bs-uid="70155"><script id="youtube-hd-fjdmkanbdloodhegphphhklnjfngoffa">var ythdlog = () => {};;var ythderror = () => {};</script><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>現在のセクション</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Work+Sans:400,600&amp;display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <style>
    body {
      font-family: "Work Sans", sans-serif;
      text-align: center;
      background-color: #ffffff;
      padding: 20px;
      color: #4d4d4d;
      transition: background-color 0.3s, color 0.3s;
      margin: 0;
    }
body.dark {
  background-color: #000000;
  color: #ffffff;
}

h1 {
  font-size: 32px;
  margin-bottom: 20px;
}

.section-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  padding: 5px 10px;
}

.section-number {
  flex-shrink: 0;
  font-size: 18px;
  font-weight: bold;
  width: 20px;
  margin-right: 10px;
  padding-right: 5px;
    border-right: 1px solid #4d4d4d;
}

.progress-bar {
  flex-grow: 1;
  height: 20px;
  background-color: #dddddd;
  border-radius: 1px;
  margin: 0 10px;
  position: relative;
  overflow: hidden;
  /*border: 1px solid #4d4d4d;*/
}

.progress-bar-inner {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background-color: #4d4d4d;
  border-radius: 1px;
}

.section-time {
  flex-shrink: 0;
  font-size: 14px;
  width: 40px;
  text-align: left;
}

.section-label {
  font-size: 14px;
  color: #999999;
}

.progress-bar-marker {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background-color: #aaaaaa;
}

.progress-bar-time {
  position: absolute;
  top: 2.7px;
  font-size: 13px;
  color: #FFFFFF;
  font-weight: bold;
  z-index: 9999999999;
}

.toggle-theme {
  margin-top: 20px;
  font-size: 14px;
  padding: 5px 10px;
  border: none;
  background-color: transparent;
  color: #4d4d4d;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s, color 0.3s;
}

.toggle-theme.dark {
  color: #ffffff;
}
  </style>
<link href="chrome-extension://accllpimnoffllpeblphooameaofhnah/css/content.css" rel="stylesheet" type="text/css"><style class="redeviation-bs-style" data-name="content">/*! (c) Philipp König under GPL-3.0 */
body>div#redeviation-bs-indicator>div{opacity:0;pointer-events:none}body>#redeviation-bs-sidebar.redeviation-bs-visible,body>#redeviation-bs-overlay.redeviation-bs-visible{opacity:1;pointer-events:auto}body.redeviation-bs-noscroll{overflow:hidden !important}body>div#redeviation-bs-indicator>div{position:absolute;transform:translate3d(-24px, 0, 0);top:0;left:0;width:24px !important;height:100%;background:rgba(0,0,0,0.5);border-radius:0 10px 10px 0;transition:opacity 0.3s, transform 0.3s;z-index:2}body>div#redeviation-bs-indicator>div>span{-webkit-mask:no-repeat center/24px;-webkit-mask-image:url(chrome-extension://jdbnofccmhefkmjbkkdkfiicjkgofkdh/img/icon-bookmark.svg);background-color:#ffffff;position:absolute;display:block;top:0;left:0;width:100%;height:100%}body>div#redeviation-bs-indicator[data-pos='right']{left:auto;right:0}body>div#redeviation-bs-indicator[data-pos='right']>div{transform:translate3d(24px, 0, 0);left:auto;right:0;border-radius:10px 0 0 10px}body>div#redeviation-bs-indicator.redeviation-bs-fullHeight>div{border-radius:0}body>div#redeviation-bs-indicator.redeviation-bs-hover>div{transform:translate3d(0, 0, 0);opacity:1}body>div#redeviation-bs-indicator[data-pos='left'].redeviation-bs-has-lsb{height:100% !important;top:0 !important}body>div#redeviation-bs-indicator[data-pos='left'].redeviation-bs-has-lsb>div{background:transparent}body>div#redeviation-bs-indicator[data-pos='left'].redeviation-bs-has-lsb>div>span{-webkit-mask-position-y:20px}body>#redeviation-bs-sidebar{width:290px;max-width:none;height:0;z-index:2147483646;background-color:rgba(0, 0, 0, 0.6) !important;color-scheme:normal !important;speak:none;border:none;display:block !important;transform:translate3d(-290px, 0, 0);transition:width 0s 0.3s, height 0s 0.3s, opacity 0.3s, transform 0.3s}body>#redeviation-bs-sidebar[data-pos='right']{left:auto;right:0;transform:translate3d(290px, 0, 0)}body>#redeviation-bs-sidebar.redeviation-bs-visible{width:calc(100% + 290px);height:100%;transform:translate3d(0, 0, 0);transition:opacity 0.3s, transform 0.3s}body>#redeviation-bs-sidebar.redeviation-bs-hideMask{background:none !important}body>#redeviation-bs-sidebar.redeviation-bs-hideMask:not(.redeviation-bs-hover){width:calc(290px + 50px)}body>#redeviation-bs-overlay{width:100%;max-width:none;height:100%;z-index:2147483647;border:none;speak:none;background:rgba(0, 0, 0, 0.5) !important;transition:opacity 0.3s}
</style></head>
<body class="vsc-initialized" cz-shortcut-listen="true">
  <h1 id="current-section">Section 6｜</h1>
  <div id="section-list"><div class="section-container"><div class="section-number">1</div><div class="section-time">5:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 738.333%;">19:46</div><div class="progress-bar-inner" style="width: 738.333%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 50%;"></div></div><div class="section-time">7:00</div></div><div class="section-container"><div class="section-number">2</div><div class="section-time">7:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 425.556%;">19:46</div><div class="progress-bar-inner" style="width: 425.556%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 33.3333%;"></div><div class="progress-bar-marker" style="left: 66.6667%;"></div></div><div class="section-time">10:00</div></div><div class="section-container"><div class="section-number">3</div><div class="section-time">10:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 325.556%;">19:46</div><div class="progress-bar-inner" style="width: 325.556%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 33.3333%;"></div><div class="progress-bar-marker" style="left: 66.6667%;"></div></div><div class="section-time">13:00</div></div><div class="section-container"><div class="section-number">4</div><div class="section-time">13:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 225.556%;">19:46</div><div class="progress-bar-inner" style="width: 225.556%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 33.3333%;"></div><div class="progress-bar-marker" style="left: 66.6667%;"></div></div><div class="section-time">16:00</div></div><div class="section-container"><div class="section-number">5</div><div class="section-time">16:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 125.556%;">19:46</div><div class="progress-bar-inner" style="width: 125.556%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 33.3333%;"></div><div class="progress-bar-marker" style="left: 66.6667%;"></div></div><div class="section-time">19:00</div></div><div class="section-container"><div class="section-number">6</div><div class="section-time">19:00</div><div class="progress-bar"><div class="progress-bar-time" style="left: 25.5556%;">19:46</div><div class="progress-bar-inner" style="width: 25.5556%; background-color: rgb(77, 77, 77);"></div><div class="progress-bar-marker" style="left: 33.3333%;"></div><div class="progress-bar-marker" style="left: 66.6667%;"></div></div><div class="vertical-label"><div class="section-time">22:00</div><div class="section-label" style="font-size: 10px;">Journal</div></div></div><div class="section-container"><div class="section-number">7</div><div class="vertical-label"><div class="section-time">22:00</div><div class="section-label" style="font-size: 10px;">Ending</div></div><div class="progress-bar"><div class="progress-bar-inner" style="width: 0%;"></div><div class="progress-bar-marker" style="left: 50%;"></div></div><div class="vertical-label"><div class="section-time">22:00</div><div class="section-label" style="font-size: 10px;">Journal</div></div></div><div class="end-labels-container"></div></div>
  <button class="toggle-theme"><span class="material-icons">brightness_medium</span></button>
  <script>
    const sections = [
      { start: 5, end: 7 },
        { start: 7, end: 10 },
  { start: 10, end: 13 },
  { start: 13, end: 16 },
  { start: 16, end: 19 },
  { start: 19, end: 22, label: "Journal" },
  { start: 22, end: 24, label: "END" }
];

const currentSectionElement = document.getElementById('current-section');
const sectionList = document.getElementById('section-list');
const toggleThemeButton = document.querySelector('.toggle-theme');

    const nw = new Date();
    if (nw.getHours() > 17 || nw.getHours() < 5) {
      document.body.classList.toggle('dark');
      toggleThemeButton.classList.toggle('dark');
    }
    
    
toggleThemeButton.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  toggleThemeButton.classList.toggle('dark');
});

    function getCurrentTime() {
      const now = new Date();
      const hours = now.getHours();
      const minutes = now.getMinutes();
      const currentTime = `${hours}:${minutes < 10 ? '0' + minutes : minutes}`;
      return currentTime;
    }

function updateDisplay() {
  const now = new Date();
  let currentSection = -1;

  for (let i = 0; i < sections.length; i++) {
    if (now.getHours() >= sections[i].start && now.getHours() < sections[i].end) {
      currentSection = i + 1;
      break;
    }
  }

  currentSectionElement.innerText = `Section - ${currentSection}｜`;
  if(currentSection < 1 || 7 < currentSection) {
    currentSectionElement.innerText = `Sleep`;
  }
  sectionList.innerHTML = '';

  for (let i = 0; i < sections.length; i++) {
    const sectionContainer = document.createElement('div');
    sectionContainer.className = 'section-container';

    const sectionNumber = document.createElement('div');
    sectionNumber.className = 'section-number';
    sectionNumber.innerText = i + 1;
    sectionContainer.appendChild(sectionNumber);

    const sectionStartTime = document.createElement('div');
    sectionStartTime.className = 'section-time';
    sectionStartTime.innerText = sections[i].start + ':00';
    if (i < 6) {
      sectionContainer.appendChild(sectionStartTime);
    }else{
      const startVarticalLavel = document.createElement('div');
      startVarticalLavel.className = 'vertical-label';
      startVarticalLavel.appendChild(sectionStartTime);
      
      const sectionLabel = document.createElement('div');
      sectionLabel.className = 'section-label';
      sectionLabel.style = 'font-size: 10px;'
      sectionLabel.innerText = 'Ending';
      startVarticalLavel.appendChild(sectionLabel);
      
      sectionContainer.appendChild(startVarticalLavel);
    }
    const progressBar = document.createElement('div');
    progressBar.className = 'progress-bar';

    // 現在時刻を追加表示するコードを追加
    /*
        if (i === currentSection - 1) {
          const progressBarTime = document.createElement('div');
          progressBarTime.className = 'progress-bar-time';
          progressBarTime.innerText = getCurrentTime();
          //const leftpos = document.getElementsByClassName('progress-bar-inner')[i];
          //progressBarTime.style.left = leftpos.style.left - 40 + 'px';
          progressBar.appendChild(progressBarTime);
        }
    */
    const progressBarInner = document.createElement('div');
    progressBarInner.className = 'progress-bar-inner';

    if (i < currentSection) {
      const sectionDuration = (sections[i].end - sections[i].start) * 60;
      const elapsed = (now.getHours() - sections[i].start) * 60 + now.getMinutes();
      const progressPercentage = (elapsed / sectionDuration) * 100;

      progressBarInner.style.width = progressPercentage + '%';
      progressBarInner.style.backgroundColor = '#4d4d4d';

      const progressBarTime = document.createElement('div');
    progressBarTime.className = 'progress-bar-time';
    progressBarTime.style.left = ((now.getHours() - sections[i].start) / (sections[i].end - sections[i].start) * 100) + '%';
    progressBarTime.innerText = getCurrentTime();
    progressBar.appendChild(progressBarTime);
      
    } else {
      progressBarInner.style.width = '0%';
    }

    progressBar.appendChild(progressBarInner);
    sectionContainer.appendChild(progressBar);

    for (let hour = sections[i].start + 1; hour < sections[i].end; hour++) {
      const progressBarMarker = document.createElement('div');
      progressBarMarker.className = 'progress-bar-marker';
      const sectionDuration = (sections[i].end - sections[i].start) * 60;
      const markerPosition = ((hour - sections[i].start) * 60) / sectionDuration * 100;
      progressBarMarker.style.left = markerPosition + '%';
      progressBar.appendChild(progressBarMarker);
    }

    //Vertical declare   
    const verticalLabelContainer = document.createElement('div');
    verticalLabelContainer.className = 'vertical-label';
        
    const sectionEndTime = document.createElement('div');
    sectionEndTime.className = 'section-time';
    sectionEndTime.innerText = sections[i].end + ':00';
    
    if (i < 5) {
      sectionContainer.appendChild(sectionEndTime);
    }else{
      verticalLabelContainer.appendChild(sectionEndTime);
    }
    
    if (sections[i].label) {
      const sectionLabel = document.createElement('div');
      sectionLabel.className = 'section-label';
      sectionLabel.style = 'font-size: 10px;'
      sectionLabel.innerText = sections[i].label;
      verticalLabelContainer.appendChild(sectionLabel);
      sectionContainer.appendChild(verticalLabelContainer);
    }

    sectionList.appendChild(sectionContainer);
  }
}
  updateDisplay();
  setInterval(updateDisplay, 500);


      </script>
</body>
</html>
